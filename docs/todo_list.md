## Miniauto 專案待辦事項 (TODO List) - 重構後

本文件列出了 Miniauto 專案在架構重構後，未來需要開發和改進的功能與任務。

### 1. Arduino UNO 韌體

*   **通訊健壯性**: 增強 I2C 通訊的錯誤處理機制，例如增加超時和重試邏輯。
*   **功能驗證**: 全面驗證所有致動器（馬達、舵機、LED、蜂鳴器）和感測器（熱成像、超音波、電壓）在新的 I2C 通訊架構下是否正常工作。

### 2. ESP32-CAM 韌體

*   **程式碼可讀性**: 重構 `http_sync_callback` 函式，將其拆分為更小的輔助函式（如 `build_json_payload`, `send_http_request`, `parse_sync_response`），提高可讀性和可維護性。
*   **共享數據結構**: 將 `SensorData_t` 和 `CommandData_t` 移至共享的頭文件中，供 UNO 和 ESP32 共同引用，避免代碼重複。
*   **相機控制**: 增加相機參數的動態調整功能（例如亮度、對比度），可透過後端 API 控制。
*   **影像處理**: 考慮在 ESP32 端進行初步的影像處理（例如 ROI 裁剪），以減少 Wi-Fi 傳輸負載。

### 3. Python FastAPI 後端

*   **視覺分析**: 實現更複雜的視覺分析演算法（例如，基於深度學習的目標識別、追蹤）。
*   **數據管理**: 
    *   增加數據持久化儲存功能，將歷史感測器數據、指令和分析結果儲存到資料庫（例如 SQLite）。
    *   實現數據查詢和報告功能。
*   **使用者介面 (UI)**: 開發一個功能更全面的 Web UI，包括歷史數據的視覺化圖表。
*   **日誌系統**: 實現更完善的日誌系統，支援日誌級別過濾、日誌輪轉和輸出到檔案。
*   **安全**: 增加 API 的認證和授權機制。
*   **控制邏輯**: 持續優化避障和自主模式下的決策邏輯。

### 4. 整體系統

*   **測試**: 擴充單元測試和整合測試的覆蓋範圍，確保系統的穩定性。
*   **部署**: 建立 CI/CD (持續整合/持續部署) 流程，自動化測試和部署。
*   **文件**: 
    *   撰寫更詳細的硬體組裝指南和接線圖。
    *   確保所有 `docs/` 下的文件都與當前架構保持同步。
